@import '../variables/themes/themable';
@include themable($sky);

@import 'components/newedo/variables';
@import 'components/newedo/button';
@import 'components/newedo/loader';
@import 'components/newedo/statusbar';
@import 'components/newedo/sidebar';
@import 'components/newedo/statusHistory';
@import 'components/newedo/table';
@import 'components/newedo/tour';

// PROJECT HELPERS

.min-height-auto {
  min-height: auto !important;
}

.min-height-100 {
  //ie fix
  height: 100vh;
  min-height: 100vh;
}

.margin-top-2 {
  margin-top: .2rem;
}

.dropdown-wrapper {

  > ul {
    padding-top: 0;
    border-top: .4rem solid $white;

    &:not(.pos-right) {
      left: auto;
      right: 0;
    }

    &.pos-left {
      left: 0;
      right: auto;
    }

    &.pos-top {
      bottom: 100%;
    }

    > .active:hover {

      .active {
        background-color: $black-05;
      }
    }

    > li {

      > a:not(.button) {
        padding-top: .6rem;
        padding-bottom: .6rem;
      }
    }
  }
}

.bg-light-gray {
  background-color: $light-gray;
}

.bg-gray-05 {
  background-color: $black-07;
}

.txt {

  &-light-gray {
    color: $black-04 !important;
  }

  &-dark-gray {
    color: $black-03 !important;
  }

  &-graphite-02 {
    color: $black-02 !important;
  }

  &-success:not(.txt-default) {
    color: $success;
  }
}

.font-size-16 {
  font-size: 1.6rem;
}

.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */

  &::-webkit-scrollbar {
    display: none;
  }

  &::-webkit-scrollbar-thumb {
    display: none;
  }
}

.w-45[class*="list"] {

  dt {
    width: 39%;
  }

  dd {
    padding-left: 40%;
  }
}

.w-50[class*="list"] {

  dt {
    width: 49%;
  }

  dd {
    padding-left: 50%;
  }
}

.txt-line-clamp-4 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 4;
  overflow: hidden;
}

.font-display {
  font-family: 'SbSansDisplay';
}

.sm-input-wrapper {
  width: 12.6rem;
}

// END PROJECT HELPERS

// CUSTOM THEME

body {
  background-color: $black-07;
}

a {

  &:hover {
    color: $success-hover;
  }

  &:active {
    color: $success-active;
  }
}

.checkbox-input:not(:disabled):checked + .checkbox-label::before,
.checkbox-input:not(:disabled):checked + .checkbox-label:not(.semi)::after {
  background-color: $success;
  border-color: $success;
}

.checkbox-input:not(:disabled):checked + .checkbox-label:hover::before,
.checkbox-input:not(:disabled):checked + .checkbox-label:not(.semi):hover::after {
  background-color: $success-hover;
  border-color: $success-hover;
}

.checkbox-label:hover::before {
  border-color: $success;
}

.radio-button {

  &-input:checked:not(:disabled) + .radio-button-label {

    &::before {
      background-color: $success;
      border-color: $success;
    }

    &:hover::before {
      background-color: $success-active;
      border-color: $success-active;
    }
  }

  &-label:hover::before {
    border-color: $success;
  }
}

.count.primary,
.count.success,
.success.count,
.sidebar ul > li::after {
  background-color: $success;
}

.success.tag:before,
.file-list-tag.success::before {
  background-color: $success-hover;
}

.notifications-item .prodicon-success.txt-success {
  color: $success-hover;
}

.tabs {

  &-container {

    .tabs-item {
      padding-left: 1rem;
      padding-right: 1rem;

      &.active::after {
        border-right-color: $success;
        border-top-color: $success;
        border-left-color: $success;
      }

      &:not(.active):not(.disabled):hover::after {
        border-right-color: $success-hover;
        border-top-color: $success-hover;
        border-left-color: $success-hover;
      }
    }
  }

  &-page-title {
    margin-top: -4.4rem;

    .tabs-bar {
      padding-left: 0;
      padding-right: 0;
    }
  }
}

.menu-document {

  li {
    min-width: 6.4rem;

    &.level-1 {

      &.disabled {

        &,
        &.active {
          background-color: transparent !important;
          box-shadow: inset 0 0 0 1px $black-05;

          &:hover {
            background-color: transparent !important;
          }

          a {
            color: $black-05 !important;
          }
        }
      }
    }
  }
}

.sidebar ul {

  > li {

    &::after {
      height: 100%;
      background-color: $success-active;
      transition: transform .3s, background-color .3s .3s;
    }

    &.favorite {

      &::after {
        background-color: $warning;
        transform: scaleY(1);
        transition: transform .3s, background-color 0s;
      }
    }

    &.active,
    &:hover:not(.active) {

      > a {
        background-color: $success-bg;
      }

      &.danger {

        > a {
          background-color: $danger-bg;
        }
      }

      &.favorite {

        > a {
          background-color: $warning-bg;
        }
      }
    }

    &.active {

      &::after {
        transition: transform .3s, background-color 0s;
      }

      &.default {

        [class^="prodicon-"] {
          color: $black-04;
        }
      }

      &.danger {

        &:not(.favorite)::after {
          background-color: $danger;
        }

        [class^="prodicon-"] {
          color: $danger;
        }
      }
    }
  }
}

.autocomplete-wrapper.wide {

  .suggestion-wrapper {
    width: 60rem;
    max-height: 15.6rem;
  }

  .suggestion-list {
    max-height: 14.8rem;
  }
}

.radio-wrapper.flex-row {
  display: flex !important;

  .radio-button {
    max-width: 40%;
    margin-right: 2rem;

    &:last-of-type {
      margin-right: 0;
    }
  }
}

.prodicon-caretdown {
  transition: transform .3s;
}

// END THEME

// CUSTOM

header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 100;
  background-color: $white;

  .personal-box {

    button.more {
      min-width: 4.4rem;
    }

    .user-name {
      text-align: left;
      max-width: 21.9rem;
      border-radius: 1.6rem;
    }

    .dropdown-projects {

      .more,
      .more:hover {
        min-width: auto;
        background-color: transparent;
      }

      &.opened {

        .more,
        .more:hover {
          background-color: transparent;
        }

        ul {
          left: 0;
          right: auto;
          max-height: 22rem;

          a {
            font-family: 'SbSansDisplay';
            font-weight: 600;
            text-transform: uppercase;
            color: $success-darkest;
          }
        }
      }
    }
  }

  .dropdown-header {

    .button-dropdown {
      border-width: 0;
      padding: .8rem 3.2rem .8rem 1.6rem !important;

      &::after,
      &:focus::after {
        right: .8rem;
      }

      &:hover {
        background-color: $black-07;
      }
    }

    &.opened {

      .button-dropdown,
      .button-dropdown:hover {
        background-color: $black-06;
        border-color: transparent;
      }

      ul {
        left: auto;
        right: 0;
      }
    }
  }

  .color-logo {
    color: $success-darkest;
  }
}

.hamburger {

  .bar {
    background-color: $success;
    transition: .3s;
  }

  &.open {

    .bar-1 {
      top: .8rem;
      transform: rotate(45deg);
    }

    .bar-2 {
      top: .8rem;
      transform: rotate(-45deg);
    }

    .bar-4 {
      opacity: 0;
    }
  }

  &.button-wrapper {
    padding: 0;
    margin-top: 0;
    margin-bottom: 0;
    min-width: 2rem;
    border: none;

    &:focus {
      padding: 0;
    }

    &:active {
      background-color: transparent;
    }
  }
}

.search-input {

  .autocomplete-input-wrapper {
    width: 100%;
    border-color: transparent;

    &:not(.focused):not(.danger):not(.disabled):hover {
      border-color: transparent;
      background-color: $black-07;
    }

    .elements-inside-input {
      position: absolute;
      top: 1px;
      left: 0;
      pointer-events: none;

      .fake-placeholder {
        position: absolute;
        top: .6rem;
        left: 4rem;
      }
    }

    .autocomplete-input {
      padding-left: 4rem;
    }

    &.focused {
      border-color: $black-05;

      &:hover {
        background-color: transparent;
      }
    }
  }

  .suggestion-wrapper {
    margin-top: 1.8rem;
  }

  .suggestion-list {
    max-height: none;
  }
}

.search-backdrop {
  position: fixed;
  z-index: 91;
  background-color: $base-56;
  top: 6rem;
  right: 0;
  left: 0;
  bottom: 0;
}

.wrapper {
  max-width: 144rem;
  min-width: 102.4rem;
}

.document-body {
  position: relative;
  width: 100%;
  min-width: 102.4rem;
  max-width: 144rem;
  min-height: calc(100vh - 6rem - 10.5rem);
  margin: 0 auto;
  padding-top: $header-height;
  padding-left: 0;
  background-color: $body-bg;
  border-left: 1px solid $black-05;
  border-right: 1px solid $black-05;
}

.document-footer {
  background-color: $body-bg;
}

.content-box {
  padding-bottom: 0;
  width: 100%;
}

.tabs-bar {
  padding: 0 .8rem;
}

.link {
  color: $success;

  [class^='prodicon-'],
  [class*=' prodicon-'] {
    color: $success;
  }

  a {
    color: $success !important;
  }

  &:hover,
  a:hover {
    color: $success-hover !important;

    [class^='prodicon-'],
    [class*=' prodicon-'] {
      color: $success-hover;
    }
  }
}

.sign {
  position: relative;

  &:after {
    content: "";
    display: inline-block;
    min-width: .8rem;
    min-height: .8rem;
    margin-left: .4rem;
    margin-bottom: .6rem;
    background-color: $warning;
    border-radius: .8rem;
  }

  &-button {

    &:after {
      position: absolute;
      top: -.3rem;
      right: -.5rem;
    }

    &.success:after {
      background-color: $success;
    }

    &.danger:after {
      background-color: $danger;
    }
  }
}

.collapse-content {
  border: 1px solid $border;
  border-radius: .6rem;
  margin-bottom: 1.6rem;

  .collapse-heading-wrapper {
    align-items: center;
    height: auto;
    padding: 1.6rem 3.2rem;

    h3 {
      line-height: 2.4rem;
    }
  }
}

.area-dashed {
  border: 1px dashed $border;
  border-radius: .8rem;
  padding: 1.6rem 3.2rem;

  &:hover {
    border-color: $text-color;
    cursor: pointer;
  }

  h3 {
    line-height: 2.4rem;
  }
}

.invoice-grid {

  td, th {
    padding-left: .2rem;
    padding-right: .2rem;
  }

  tr.no-hover:hover {
    background-color: transparent;
  }
}

.custom-numeric {

  .input-element-wrapper > .input-element {
    padding-right: .8rem;
    text-align: right;
  }

  &-sign {
    padding-top: .1rem;
    color: $input-placeholder-color;
    vertical-align: text-top;
  }

  [class^="numeric-text-box-arrow-"], &[class*="numeric-text-box-arrow-"] {
    display: none;
  }
}

.input-wrapper {

  &.medium {

    .input-element-wrapper {
      height: 3.6rem;
    }
  }
}

.multiselect-checkboxes {

  .suggestion-wrapper {

    .nodata {
      min-height: 19.6rem;
    }
  }

  .multiselect-checkbox {

    &-list,
    &-list-wrapper {
      padding: 0;
    }

    &-list {
      height: auto;

      .checkboxtree-list {
        height: 19.6rem;
        padding-left: 1.2rem;
        padding-right: 1.2rem
      }
    }
  }

  .checkbox-label span {
    font-weight: 400;
  }

  &.multiselect-checkboxes .multiselect-clear-icon {
    display: block;
  }
}

.light-box {

  &-wrapper-bg {
    backdrop-filter: none;
  }

  &-window {
    position: static;
    margin: 0 auto;
    transform: none;
  }

  &-footer .progressbar-wrapper {
    position: absolute;
    margin-top: -2.6rem;
    left: 0;
    width: 100%;
    background: transparent;
    height: .2rem;

    .progressbar-fill {
      background: $success;
    }
  }

  &-alert {
    position: sticky;
    top: 0;
    width: 100%;
  }

  &-overlay {

    .light-box-alert {

      &::after {
        content: '';
        position: absolute;
        width: 100%;
        height: calc(100vh - 16.8rem);
        display: block;
        background: rgba(255,255,255,.8);
        left: 0;
        margin-top: 2.5rem;
      }
    }
  }
}

.bottompanel-wrapper {
  position: sticky;
  bottom: 0;
  margin-top: auto;
  padding-left: 0;
  transition: bottom .3s;

  &-full-width {
    width: 121.41rem;
    margin-top: 0;
  }

  &.hidden {
    bottom: -15rem !important;
    transition: .3s;
  }

  .list-h > li {
    padding-top: 0;
    padding-bottom: 0;
  }
}

.dark-panel-color {
  background-color: $black-06;
}

.checkbox-single > .checkbox-wrapper {
  position: relative;
  top: -.4rem;
}

.list {

  > dd {
    padding-bottom: .8rem;
    padding-top: .8rem;
  }

  > dt {
    padding-top: .8rem;
  }
}

.form[class*="list"] > dd:not(.height-normal) {
  min-height: 4.8rem;
}

.list-details[class*="list"] {

  dt {
    width: 10%;
  }

  dd {
    padding-left: 12%;
  }
}

.label-dd {
  margin-top: .6rem;
}

.tags-item {
  margin: 1.6rem 1.2rem 0 0;
}

.k-sms-box {
  width: 20.4rem;

  i {
    color: $success-disabled;
  }

  input {

    &:not(:placeholder-shown) {

      + i[class^="prodicon-"] {
        color: $success;
      }
    }
    // для IE:

    &:not(:-ms-input-placeholder) {

      + i[class^="prodicon-"] {
        color: $success;
      }
    }
  }
}

.datepicker-wrapper {

  .datepicker-input-wrapper {
    width: 12.6rem;
  }

  &.time-picker {
    width: 8.4rem;
  }
}

.daterange-wrapper {

  > .datepicker-wrapper {
    flex-grow: initial;
    width: 12.6rem;
  }

  .daterange-delimiter {
    width: 1.8rem;
  }
}

a.disabled {
  background-color: transparent !important;
  color: $success-disabled !important;
}

.counterparty-autocomplete {

  .nodata {
    justify-content: normal;
    min-height: auto;
    padding: .4rem .8rem;
  }

  .list-separated > li {
    padding: 0;
  }
}

.autocomplete-document-type-list {

  li {
    display: inline-block;

    &:not(:first-child)::before {
      content: "";
      display: inline-block;
      width: .4rem;
      height: .4rem;
      margin: 0 .4rem;
      vertical-align: middle;
      border-radius: 50%;
      background-color: $black-05;
    }
  }
}

.list-separated {

  > li:not(:last-child) {
    position: relative;

    &::after {
      background-color: $black-05;
      border-radius: 50%;
      content: "";
      display: block;
      height: .4rem;
      position: absolute;
      right: -.8rem;
      top: calc(50% - .2rem);
      width: .4rem;
    }
  }
}

.gray-box {
  border-radius: .8rem;
  background-color: $black-07;
}

.bside-panel {
  position: fixed;
  right: 0;
  z-index: 100;
  width: 47.5rem;
  height: calc(100% - 6rem);
  transform: translateX(100%);
  transition: .3s ease transform;

  &.visible {
    transform: translateX(0%);
  }

  .bg-gray-05 {
    position: fixed;
    height: 100%;
    overflow-y: auto;
    box-shadow: $shadow-menu-top-bar;
  }

  .list-h li {
    margin-right: 1.6rem;
  }

  .tabs {

    &-container {
      border-bottom: 1px solid $black-05;
    }

    &-bar {
      padding: 0 3.2rem;
    }

    &-item {
      padding: .8rem 1rem;
    }
  }
}

.notification {

  &-message {
    background-color: $body-bg;
    border-radius: .8rem;
    box-shadow: $shadow-level-5;
    margin-bottom: 1.6rem;
    padding: 1.6rem 3.2rem 1.6rem 1.6rem;
    position: relative;
  }

  &-close {
    position: absolute;
    right: .6rem;
    top: .6rem;

    i {
      color: $black-05;
    }
  }
}

.count.sup {
  position: static;
  height: .8rem;
  min-width: .8rem;
  margin-left: .4rem;
  margin-bottom: 1.2rem;
}

.box-rubricator {

  [class^="col-"] {
    padding-left: .8rem;
    padding-right: .8rem;
  }

  &-item {
    height: 15.6rem;

    &:hover {
      border-color: $black-01;
      cursor: pointer;
    }
  }

  &-types {
    background-color: $success-bg;
    border-radius: .4rem;
    display: inline-block;
    font-size: 1.2rem;
    line-height: 1.6rem;
    margin-bottom: .4rem;
    padding: .4rem;
  }

  &-docs {
    font-size: 1.2rem;
    line-height: 1.6rem;
    max-height: 3.2rem;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  h4 {
    height: 4.8rem;
    line-height: 2.4rem;
    margin-bottom: 1.6rem;
  }
}

.list-rubricator {
  margin-bottom: 0;

  > li {
    padding-bottom: 1.6rem;
    padding-top: 0;
  }
}

.container-auth {
  padding-top: 6rem;
  width: 42.8rem;

  .auth-separator {
    align-items: center;
    display: flex;

    &::before,
    &::after {
      background-color: $black-05;
      content: "";
      display: block;
      height: 1px;
      width: 100%;
    }

    &::before {
      margin-right: .8rem;
    }

    &::after {
      margin-left: .8rem;
    }
  }
}

.border-danger > div {
  border-color: $danger;
}

.hidden-status .file-list-tag {
  display: none;
}

.hidden-id .file-list {

  colgroup col:first-of-type {
    display: none;
  }

  tr > td {

    &:first-of-type {
      display: none;
    }

    &:nth-of-type(2) {
      border-top-left-radius: 8px;
      border-bottom-left-radius: 8px;
    }
  }
}

.invalid-message-item {
  display: flex;
  flex-wrap: nowrap;
  padding-top: .4rem;

  &::before {
    content: "\e9b6";
    font-family: 'prodicon' !important;
    margin-right: .4rem;
    font-size: 1.6rem;
    line-height: 1.6rem;
    color: $danger;
  }
}

.print {

  &-window {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 600;
    display: none;
    background: rgba(0, 0, 0, .5608)
      linear-gradient(180deg, rgba(0, 0, 0, .5608) 0%, rgba(0, 0, 0, 0) 121.98%);
    backdrop-filter: blur(3px);

    &.open {
      display: block;
    }

    .more {
      min-width: 2.8rem;
    }
  }

  &-container {
    max-width: 133rem;
    margin: 0 auto;
  }

  &-image-container {
    max-height: calc(100vh - 8rem);
    overflow: scroll;
  }
}

.icon-20 {
  min-width: 2rem;
  font-size: 2rem;
}

.icon-28 {
  font-size: 2.8rem;
}

.icon-32 {
  min-width: 3.2rem;
  font-size: 3.2rem;
}

.template {

  &-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
  }

  &-item {
    position: relative;
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    align-content: space-between;
    width: calc(50% - 1.2rem);
    height: 8.6rem;
    margin-bottom: 1.6rem;
    padding: 1.6rem 2.4rem;
    border: .1rem solid $black-05;
    border-radius: .8rem;
    box-shadow: 0 .2rem .7rem $base-08;

    .small {
      position: relative;
      z-index: 1;
    }

    &:hover,
    &:focus {
      box-shadow: 0 .2rem .7rem $base-21;
    }
  }

  &-title {
    width: 100%;
    max-width: calc(100% - 2.8rem);
    font-size: 2.1rem;
    line-height: 1.52;
    color: black;

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: block;
    }

    &:hover,
    &:focus {
      color: inherit;
    }
  }
}

.suggestion-wrapper {

  .small-suggestion {
    min-height: 3.2rem;
  }
}

.settings-footer {
  position: sticky;
  bottom: 0;
  width: 100%;
}

.modal-wrapper {
  z-index: 600;
}

.filter {

  .suggestion-wrapper,
  .calendar-wrapper {
    z-index: 110;
  }
}

.textarea-wrapper {

  ::-webkit-scrollbar {
    background-color: transparent;
  }

  ::-webkit-scrollbar-track {
    margin-top: .4rem;
    margin-bottom: .4rem;
    background-color: $black-07;
    border-radius: .4rem;
  }

  .textarea-input {
    height: 8rem;
    padding: .8rem 1.2rem !important;
    line-height: 2rem;
  }
}

.hidden-text {
  display: -webkit-box;
  max-height: 6rem;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  overflow: hidden;
  transition: max-height 250ms cubic-bezier(.4, 0, .2, 1) 0ms;

  &-visible {
    max-height: 60rem;
    -webkit-line-clamp: unset;
  }
}

.doc-info {
  display: grid;
  grid-template-columns: repeat(3, fit-content(100%)) max-content;
}

.button-wrapper.more:not(.blank):focus {
  padding: .3rem;
}

// END CUSTOM

// MEDIA QUERIES
@media (min-width: 1130px) {

  header .user-name.more {
    max-width: 32.8rem;
  }
}

@media (min-width: 1366px) {

  .hamburger {
    display: none !important;
  }
}

@media (min-width: 1366px) and (max-width: 1439.98px) {

  .content-box,
  .settings-footer {
    width: calc(100% - 22.4rem);
  }
}

@media (max-width: 1365.98px) {

  .bottompanel-wrapper {
    left: 0;
    transform: translateX(0);
    width: 100%;
  }
}

@media (min-width: 1440px) {

  .content-box,
  .settings-footer {
    width: 121.4rem;
  }
}
// END MEDIA QUERIES
